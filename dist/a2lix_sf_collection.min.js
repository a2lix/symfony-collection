"use strict";const a2lix_lib={};a2lix_lib.sfCollection=(()=>{const t=(t={})=>{if(!("content"in document.createElement("template"))){console.error("HTML template will not working...");return}const{collectionsSelector:n="form div[data-prototype]",manageRemoveEntry:r=true,lang:a={add:"Add",remove:"Remove"}}=t;const o=document.querySelectorAll(n);if(!o.length){return}o.forEach(t=>{e(t,r,a)})};const e=(t,e=false,o)=>{t.setAttribute("data-entry-index",t.children.length);n(t,o);if(e){r(t,o)}t.addEventListener("click",t=>a(t,e,o))};const n=(t,e)=>{const n=t.getAttribute("data-entry-add-label")||"",r=t.getAttribute("data-entry-add-class")||"btn btn-primary btn-sm mt-2";const a=i(`${e.add} ${n}`,"add",`${r}`);t.appendChild(a)};const r=(t,e)=>{const n=t.getAttribute("data-entry-remove-label")||"",r=t.getAttribute("data-entry-remove-class")||"btn btn-danger btn-sm";const a=i(`${e.remove} ${n}`,"remove",`${r}`);const o=[...t.children].filter(t=>!t.hasAttribute("data-entry-action")).forEach(t=>{t.appendChild(a.cloneNode(true))})};const a=(t,e,n)=>{if(!t.target.hasAttribute("data-entry-action")){return}switch(t.target.getAttribute("data-entry-action")){case"add":o(t.currentTarget,t.target,e,n);break;case"remove":c(t.currentTarget,t.target);break}};const o=(t,e,n,r)=>{const a=t.getAttribute("data-entry-index");t.setAttribute("data-entry-index",+a+1);const o=t.getAttribute("data-prototype"),c=l(o,a);if(n){const e=t.getAttribute("data-entry-remove-label")||"",n=t.getAttribute("data-entry-remove-class")||"btn btn-danger btn-sm",a=i(`${r.remove} ${e}`,"remove",`${n}`);c.firstChild.appendChild(a)}e.parentElement.insertBefore(c,e)};const c=(t,e)=>{e.parentElement.remove()};const i=(t,e,n="btn")=>{const r=document.createElement("button");r.type="button";r.textContent=t;r.className=n;r.dataset.entryAction=e;return r};const l=(t,e)=>{const n=document.createElement("template");const r=t.replace(/__name__label__/g,`!New! ${e}`).replace(/__name__/g,e);n.innerHTML=r.trim();return n.content};return{init:t}})();export default a2lix_lib;