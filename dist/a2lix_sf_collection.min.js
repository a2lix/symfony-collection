"use strict";const a2lix_lib={};a2lix_lib.sfCollection=(()=>{let t;const e=(e={})=>{if(!("content"in document.createElement("template"))){console.error("HTML template will not working...");return}t=t||e;const{parentElt:r=null,collectionsSelector:a="form div[data-prototype]",manageRemoveEntry:o=true,lang:c={add:"Add",remove:"Remove"}}=e;const l=r?r.querySelectorAll(a):document.querySelectorAll(a);if(!l.length){return}l.forEach(t=>{n(t,o,c)})};const n=(t,e=false,n)=>{t.setAttribute("data-entry-index",t.children.length);r(t,n);if(e){a(t,n)}t.addEventListener("click",t=>o(t,e,n))};const r=(t,e)=>{const n=t.getAttribute("data-entry-add-label")||"",r=t.getAttribute("data-entry-add-class")||"btn btn-primary btn-sm mt-2";const a=i(`${e.add} ${n}`,"add",`${r}`);t.appendChild(a)};const a=(t,e)=>{const n=t.getAttribute("data-entry-remove-label")||"",r=t.getAttribute("data-entry-remove-class")||"btn btn-danger btn-sm";const a=i(`${e.remove} ${n}`,"remove",`${r}`);const o=[...t.children].filter(t=>!t.hasAttribute("data-entry-action")).forEach(t=>{t.appendChild(a.cloneNode(true))})};const o=(t,e,n)=>{if(!t.target.hasAttribute("data-entry-action")){return}t.stopPropagation();switch(t.target.getAttribute("data-entry-action")){case"add":c(t.currentTarget,t.target,e,n);break;case"remove":l(t.currentTarget,t.target);break}};const c=(n,r,a,o)=>{const c=n.getAttribute("data-entry-index");n.setAttribute("data-entry-index",+c+1);const l=n.getAttribute("data-prototype"),d=s(l,c);if(a){const t=n.getAttribute("data-entry-remove-label")||"",e=n.getAttribute("data-entry-remove-class")||"btn btn-danger btn-sm",r=i(`${o.remove} ${t}`,"remove",`${e}`);d.firstChild.appendChild(r)}const m=d.firstChild;r.parentElement.insertBefore(d,r);e({...t,parentElt:m})};const l=(t,e)=>{e.parentElement.remove()};const i=(t,e,n="btn")=>{const r=document.createElement("button");r.type="button";r.textContent=t;r.className=n;r.dataset.entryAction=e;return r};const s=(t,e)=>{const n=document.createElement("template");const r=t.replace(/__name__label__/g,`!New! ${e}`).replace(/__name__/g,e);n.innerHTML=r.trim();return n.content};return{init:e}})();export default a2lix_lib;